@0
##ALT SHORT CIRC.

@1
S:MOV UP, ACC #A
  MOV ACC, DOWN
  MOV ACC, RIGHT
  MOV RIGHT, ACC#B
  SUB 1
  JEZ X #B=1
  ADD 1
  NEG
  MOV 4, DOWN
  MOV ACC, DOWN
  JMP S
X:MOV 1, DOWN

@2
S:MOV UP, ACC #B
  SUB 1
  JEZ X
  ADD 1
  MOV LEFT, DOWN
  MOV ACC, LEFT
  NEG
  MOV ACC, DOWN#-B
  JMP S
X:MOV LEFT, NIL
  MOV 1, LEFT
  MOV 0, DOWN
  MOV -1, DOWN

@3


@4
S:MOV UP, LEFT#A
  JRO UP
X:MOV 4, DOWN
  MOV LEFT, DOWN
  JMP S
N:MOV UP, ACC#-B
  SAV
L:ADD LEFT #T-B
  JLZ F
  MOV ACC, LEFT
  MOV 6, DOWN
  SWP
  SAV
  JMP L
F:MOV 1, DOWN

@5
S:MOV UP, RIGHT #A
  MOV UP, ACC #-B
  MOV ACC, DOWN
  SAV
L:ADD RIGHT #T-B
  JLZ F
  MOV ACC, RIGHT
  SWP
  SAV
  JMP L
F:MOV ACC, DOWN

@6


@7
S:JRO UP
#FINISHED
  MOV ACC, DOWN
  MOV 0, ACC
  JMP S

#SHORTCIRCUIT
  MOV UP, DOWN
  JMP S
#INCREMENT BY 1
  ADD 1

@8
S:MOV UP, ACC #-B
  NEG
  ADD UP #REM-B
  MOV ACC,DOWN
