@0
##SPEED3

@1
START:
  MOV UP, ACC
  MOV ACC, RIGHT
  JNZ NOT0
  MOV 0, DOWN
  MOV 100, DOWN
  MOV 100, DOWN
  JMP START

NOT0:
  MOV ACC, DOWN
  MOV ACC, DOWN
  MOV ACC, DOWN

@2
MOV LEFT, ACC
MOV ACC, DOWN
MOV ACC, DOWN
MOV ACC, DOWN

@3


@4
# >3XVAL
#S:MOV DOWN, ACC
#  MOV UP, DOWN
#  SUB UP
#  JLZ C
#N:MOV UP, DOWN
#  JMP S
#C:ADD UP
#  MOV ACC, DOWN
#>VAL, MAX
#<MAX

@5
I:MOV 999, ACC
S:SAV
  MOV UP, ACC
  JEZ Z
  SWP
  SUB UP
  JLZ C
  MOV 0, ACC
C:ADD UP
  JMP S
Z:SWP
  MOV ACC, DOWN
  MOV UP, NIL
  MOV UP, NIL
  JMP I

@6
# >3XVAL
S:MOV DOWN, ACC
  MOV UP, DOWN
  SUB UP
  JGZ C
N:MOV UP, DOWN
  JMP S
C:ADD UP
  MOV ACC, DOWN
#>VAL, MAX
#<MAX

@7


@8
#S:MOV UP, ACC
#  JNZ C
  MOV UP, DOWN
#  JMP S
#C:MOV UP, NIL

@9
  MOV 0, UP
S:MOV UP, ACC
  JNZ C
  MOV UP, DOWN
  MOV 0, UP
  JMP S
C:MOV UP, UP
  JMP S

@10

