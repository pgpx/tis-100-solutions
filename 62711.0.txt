@0
MOV 0, RIGHT
L:MOV UP, ACC
  JEZ E
  MOV ACC, RIGHT
  JMP L
E:MOV NIL, DOWN
JRO 0

@1
MOV UP, DOWN

@2
S:MOV UP, NIL
L:MOV NIL, RIGHT
JRO 0

@3
FILL:
 MOV LEFT, NIL
 MOV 0, DOWN
!L:MOV UP, ACC
  JEZ E
  MOV ACC, DOWN
  JMP L
E:MOV NIL, RIGHT
  MOV RIGHT, NIL
CLEAR:
  MOV DOWN, ACC
  JNZ CLEAR
  JMP FILL

@4
MOV UP, ACC
ADD 2
NEG
MOV LEFT, NIL
!MOV ACC, DOWN
# CALLBACK
MOV DOWN, NIL
MOV NIL, LEFT

@5


@6


@7
JMP R
MOV LEFT, ACC #10
MOV LEFT, ACC #9
MOV LEFT, ACC #8
MOV LEFT, ACC #7
MOV LEFT, ACC #6
MOV LEFT, ACC #5
MOV LEFT, ACC #4
MOV LEFT, ACC #3
MOV LEFT, ACC #2
MOV LEFT, ACC #1
JMP E
!R: JRO UP
E: MOV ACC, DOWN
MOV NIL, UP

@8

